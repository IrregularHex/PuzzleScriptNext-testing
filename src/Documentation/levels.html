<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="ico/favicon.ico" />

    <title>Levels - PuzzleScript Next Documentation</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/bootstrap-theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html"><img src="../images/mascot_colorful.png"> Puzzlescript Next</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="../editor.html">Make A Game</a></li>
              
              <li class="active"><a href="documentation.html">Documentation</a></li>
          </ul>          
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://discord.gg/3uumegUV7y">Discord</a></li>            
            <li><a href="https://groups.google.com/g/puzzlescript">Forum</a></li>
            <li><a href="https://github.com/david-pfx/PuzzleScriptNext">GitHub</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">



<p>
<ol class="breadcrumb">
  <li><a href="documentation.html">Documentation</a></li>
  <li>Sections</li>
  <li class="active">Levels</li>
</ol>
<p>

<h1>Sections of a PuzzleScript file</h1>
<p>
A puzzlescript file is divided into the following sections. 
<p>

  <ul class="nav nav-pills">
    <li><a href="prelude.html">Prelude</a></li>
    <li><a href="objects.html">Objects</a></li>
    <li><a href="legend.html">Legend</a></li>
    <li><a href="sounds.html">Sounds</a></li>
    <li><a href="collisionlayers.html">CollisionLayers</a></li>
    <li><a href="rules.html">Rules</a></li>
    <li><a href="winconditions.html">WinConditions</a></li>
    <li class="active"><a href="levels.html">Levels</a></li>
  </ul>



  <p>
    <h2>Levels</h2>
    <p>
    Here's where all the fun happens!  The level section of a game looks something like this.
    <p>
    <pre><code>=======
LEVELS
=======

#########
#.......#
#.*.*.O.#
#..*..O.#
#.P.*.*.#
#.......#
#########

MESSAGE Woah, that was tough, eh?!

#########
#.....@.#
#.P.*.O.#
#.......#
#########

#########
#.....@.#
#.P.*.O.#     
#.......#
#########

MESSAGE Thank you for playing the game.</code></pre>
<p>Levels are separated by blank lines, and you can also display messages and do some other things if you want to. </p>
<p>If you click âŒ˜/Ctrl+Left Click on the level in the text editor, it will load the level in game.</p>

<h3>Level Commands</h3>

<dl>
  <dt>message So you thought that was too easy? Try this!</dt>
  <dd>The message text is displayed before or after a level.</dd>

  <dt>section Tutorial levels</dt>
  <dd>The name of the section will appear in the level select screen, and may be the target of a <b>goto</b>.</dd>

  <dt>level Crossing the Bridge</dt>
  <dd>Sets the name of the level. 
    If you don't, it will be named "Level N", where N is the number of the level. 
    This name will appear in the pause menu and in the "continue from" option of the title screen. 
    It should be short (maximum 16 characters) and make sense for the player. </dd>
  <dt>Levels</dt>
  <dd>The level itself comes after any other commands and ends with a blank line.
    Each character in the level grid defines the contents of a single tile.
<p>Those single characters can be set up in the <a href="legend.html">legend</a> like this.
  If you want to have several objects occupying a single tile, you specify this with <b>and</b>.
<p>
<pre><code>LEGEND
=======
. = Background
# = Wall
P = Player
* = Crate
@ = Crate and Target
O = Target
</code></pre>

</dd>
</dl>

<h4>Level Select Example</h4>

<p>If you want to use the <b>level_select</b> feature or the <b>goto</b> commands, you need to divide your game into named sections.</p>
<p>You can use a <b>goto</b> command to redirect the player to any named section after the preceding level was won.</p>

<pre><code>MESSAGE Select your preferred difficulty setting.

#########
#...P...#
#.E...H.#
#########

SECTION Easy Levels

#########
#.P..*O.#
#########

#########
#.P.*.O.#
#########

GOTO The End

SECTION Hard Levels

#########
#.P..*O.#
#.......#
#########

#########
#.P.....#
#...* O.#
#########

SECTION The End

MESSAGE Congratulations!</code></pre>

<h3>What stuff is hard to do?</h3>
<p>Branching. 
There is no support for it in terms of this level structure. 
If you want a continuous open world you can set <b>zoomscreen</b> or <b>flickscreen</b> in the prelude.
If you can think of an elegant way to implement level branching in the engine, do let me know.</p>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
