<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="ico/favicon.ico" />

    <title>Sounds - PuzzleScript Next Documentation</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/bootstrap-theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html"><img src="../images/mascot_colorful.png">Puzzlescript Next</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="../editor.html">Make A Game</a></li>
              
              <li class="active"><a href="documentation.html">Documentation</a></li>
          </ul>          
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://discord.gg/3uumegUV7y">Discord</a></li>            
            <li><a href="https://groups.google.com/g/puzzlescript">Forum</a></li>
            <li><a href="https://github.com/david-pfx/PuzzleScriptNext">GitHub</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">


<p>
<ol class="breadcrumb">
  <li><a href="documentation.html">Documentation</a></li>
  <li>Sections</li>
  <li class="active">Sounds</li>
</ol>
<p>


<h1>Sections of a PuzzleScript file</h1>
<p>
A puzzlescript file is divided into the following sections. 
<p>

  <ul class="nav nav-pills">
    <li><a href="prelude.html">Prelude</a></li>
    <li><a href="objects.html">Objects</a></li>
    <li><a href="legend.html">Legend</a></li>
    <li class="active"><a href="sounds.html">Sounds</a></li>
    <li><a href="collisionlayers.html">CollisionLayers</a></li>
    <li><a href="rules.html">Rules</a></li>
    <li><a href="winconditions.html">WinConditions</a></li>
    <li><a href="tags.html">Tags</a></li>
    <li><a href="mappings.html">Mappings</a></li>
    <li><a href="levels.html">Levels</a></li>
  </ul>


<p>
<h2>Sounds</h2>
    <p>
    Here's where you hook up sounds to in-game actions.
    <p>
    There are sound buttons above the console, that produce sound seeds that you can use in this section.
    Each time you click on a button, you get a new randomly generated sound within a category, like "explosion sound" or "bird tweet sound".  
    Keep trying -- sooner or later you'll get one you like.
    <p>
    <img src="images/soundbuttons.png">
    <p>
    These numbers are saved representations of the sounds, and you use them in the sound sections.
    You can click on the links in the console window to hear the sound.
    <p>
    A sound section could look like the following:
    <p>
    <pre><code>SOUNDS
======
Player Move Up 142315
Player Move Down 142313
Player Move Right 142311
Crate Move 412312
Player CantMove Up 41234
Crate CantMove 41234
Crate Create 41234123
CloseMessage 1241234
Sfx0 213424
Sfx3 213424</code></pre>
<p>
<h3>Sound Volume <img src="../images/pspatt.png" title="Pattern:Script" height="16"></h3>
You can specify a volume after the seed like this.
<pre><code>Player Move Up 142315:12
Player Move Down 142313:6
Endgame 123413:20
</code></pre>
<p>The sound volume is a scale of tenths, so that a volume of 6 is 60% and 20 is 200% of default.
  You can use any integer value between 1 and 39 included.
  </p>
<p>Note that increasing the volume of a sound can add distortion to it, and conversely, decreasing the volume of a sound can make it sound smoother. 
  The reason is that the volume setting directly multiplies the soundwave's amplitude before it is capped to 1, and this capping causes distortion. 
</p>

<h3>Object Events</h3>
Sound events in this group are triggered by something happening to a particular object.
Note that <b>move</b> and <b>cantmove</b> can be supplied with directions, so that certain sounds play if you move (or can't) 
move in particular directions during a movement phase.  
<dl>

<dt>Crate <b>Action</b> 123414</dt>
<dd>Triggers when a crate is subject to the <b>action</b> during a movement phase.</dd>

<dt>Crate <b>Create</b> 123414</dt>
<dd>Triggers when a crate is created.</dd>

<dt>Player <b>CantMove</b> 4123412</dt>
<dd>Triggers when that object unsuccessfully moves, in any direction.</dd>

<dt>Player <b>CantMove</b> Down Left 4123412</dt>
<dd>Triggers when that object unsuccessfully moves, either down or left.</dd>

<dt>Crate <b>Destroy</b> 123414</dt>
<dd>Triggers when a crate is destroyed.</dd>

<dt>Player <b>Move</b> 4123412</dt>
<dd>Triggers when that object successfully moves, in any direction.</dd>

<dt>Player <b>Move</b> Down Left 4123412</dt>
<dd>Triggers when that object successfully moves either down or left.</dd>

<dt>Player <b>Move</b> Horizontal 4123412</dt>
<dd>Triggers when that object successfully moves horizontally.  
  <b>Vertical</b> is also valid here.</dd>

<h3>Command Events</h3>
Sounds in this group are triggered by rule commands.

<dt><b>Cancel</b> 123413</dt>
<dd>Played when the a rule triggers the <b>cancel</b> command.</dd>

<dt><b>SFX0</b> 123434</dt>
<dd>Can be anything form <b>SFX0</b> to <b>SFX10</b>.  
  These are custom sound events that can be triggered from rules.</dd>
  
<h3>Game Events</h3>
Sounds in this group are triggered by an event for the game as a whole.

<dt><b>CloseMessage</b> 123434</dt>
<dd>Makes a sound when the player closes a message window</dd>

<dt><b>EndGame</b> 123413</dt>
<dd>When you finish the game, and end up back at the title screen.</dd>

<dt><b>EndLevel</b> 123413</dt>
<dd>When you finish a level.</dd>

<dt><b>Restart</b> 123413</dt>
<dd>Played when the player presses the restart button (R).</dd>

<dt><b>ShowMessage</b> 123434</dt>
<dd>makes a sound when a message appears</dd>

<dt><b>StartGame</b> 123413</dt>
<dd>When you start a new game from the title screen.</dd>

<dt><b>Startlevel</b> 123413</dt>
<dd>Played at the start of each level.</dd>

<dt><b>TitleScreen</b> 123414</dt>
<dd>Triggers when the title screen is loaded.</dd>

<dt><b>Undo</b> 123413</dt>
<dd>Played when the player presses the undo button (Z).</dd>

</dl>

<h3>Animation <img src="../images/psnext.png" alt="PuzzleScript Next" height="16"></h3>

<p>The Sounds section also lets an object have an animation instead of or as well as a sound.
  Use it like this. </p>
<pre><code>player move up afx:slide
player cantmove up afx:slide
player move left afx:zoom
player cantmove left afx:zoom

m lclick afx:turn
w lclick afx:fade

b create  afx:turn
b destroy afx:turn
y create  afx:fade:scale
y destroy afx:fade:

player lclick 32169907 afx:turn=.25,0      // anticlockwise 90
player rclick 32169907 afx:turn=-.25,0     // clockwise 90
</code></pre>

<p>All animations start with <b>afx</b> and have one or more parameters separated by <b>:</b>. 
  Each parameter may have an argument separated by <b>=</b>.
  The animations and their parameters are as follows.</p>

  <dl>
    <dt>slide[=n,m...]</dt>
    <dd>Animates a sliding movement of an object</dd>

    <dt>zoom[=n,m...]</dt>
    <dd>animates zooming in or out (resizing) of an object</dd>

    <dt>fade[=n,m...]</dt>
    <dd>animates fading (alpha, transparency) of an object</dd>

    <dt>turn[=n,m...]</dt>
    <dd>animates turning (rotation) of an object</dd>

    <dt>ease[=function]</dt>
    <dd>applies an easing function (non-linear tweening), as per <b>tween_easing</b> in the prelude.</dd>
  </dl>

<p> An argument of <b>n,m...</b> is a comma-separated list of values that define the animation, how the value changes over time.
  Default values are defined in a table in the source code and will be documented here once stable.
  Meanwhile feel free to experiment.</p>

<p> All animations take place in a single period of time, set in the prelude by <b>animate_interval</b>. 
  Multiple animations may be applied to an object.
  The default is 0.25 sec. Note that if you enable tweening by setting <b>tween_length</b>, animation is disabled.</p>
<pre><code>
 animate_interval 0.4   // set animations to run in 0.4 secs
 // tween_length = 0.4  // tweening must not be set
</code></pre>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
